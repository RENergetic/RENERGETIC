(self["webpackChunkrenergetic_ui"]=self["webpackChunkrenergetic_ui"]||[]).push([[715],{7715:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var i=n(6252),o=n(3577),r={id:"dashboard-wrapper"};function a(e,t,n,a,l,s){var c=(0,i.up)("DotMenu"),d=(0,i.up)("Grafana"),u=(0,i.up)("Dock"),p=(0,i.up)("DeleteDashboard");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{model:s.menuModel},null,8,["model"]),(0,i._)("div",r,[(0,i.Wm)(d,{url:s.dashboardUrl},null,8,["url"])]),(0,i.Wm)(u,{class:"ren-dock",model:l.dashboardMenu,position:"bottom"},{icon:(0,i.w5)((function(e){var t=e.item;return[(0,i._)("div",{style:(0,o.j5)(s.getColor(t))},(0,o.zw)(t.label),5)]})),_:1},8,["model"]),null!=l.dashboard?((0,i.wg)(),(0,i.j4)(p,{key:0,id:l.dashboard.id,ref:"deleteDashboard",label:l.dashboard.label},null,8,["id","label"])):(0,i.kq)("",!0)],64)}var l=n(6347),s=(n(9826),n(1539),n(8309),n(1249),{id:"dashboard"}),c=["src"];function d(e,t,n,o,r,a){return(0,i.wg)(),(0,i.iD)("div",s,[null!=n.url?((0,i.wg)(),(0,i.iD)("iframe",{key:0,src:n.url},null,8,c)):(0,i.kq)("",!0)])}var u={name:"Grafana",components:{},props:{url:{type:String,default:null}},mounted:function(){},methods:{}},p=n(3744);const m=(0,p.Z)(u,[["render",d]]);var f=m;function h(e,t,n,o,r,a){return(0,i.wg)(),(0,i.iD)("div")}var b=n(8534),k=(n(5666),n(4916),n(5306),{name:"DeleteDashboard",components:{},props:{id:{type:String,default:null},label:{type:String,default:null}},mounted:function(){},methods:{delete:function(){var e=this;this.$confirm.require({message:this.$t("view.dashboard_delete_confirm",{label:this.label}),header:this.$t("view.dashboard_delete"),icon:"pi pi-exclamation-triangle",accept:function(){e.deleteDashboard(e.id),e.$store.commit("view/dashboardsDel",e.id),e.$router.replace("Dashboard")},reject:function(){e.$confirm.close()}})},deleteDashboard:function(e){var t=this;return(0,b.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$ren.dashboardApi.delete(e).then((function(){t.$toast.add({severity:"success",summary:t.$t("view.toast.dashboard_delete_success",{label:t.label}),life:3e3})})).catch((function(){t.$toast.add({severity:"error",summary:t.$t("view.toast.dashboard_delete_fail",{label:t.label}),life:3e3})}));case 2:case"end":return n.stop()}}),n)})))()}}});const v=(0,p.Z)(k,[["render",h]]);var g=v,x=n(4019),w={name:"DockSub",props:{model:{type:Array,default:null},templates:{type:null,default:null},exact:{type:Boolean,default:!0},tooltipOptions:null},data(){return{currentIndex:-3}},methods:{onListMouseLeave(){this.currentIndex=-3},onItemMouseEnter(e){this.currentIndex=e},onItemClick(e,t,n){this.disabled(t)?e.preventDefault():(t.command&&t.command({originalEvent:e,item:t}),t.to&&n&&n(e))},itemClass(e){return["p-dock-item",{"p-dock-item-second-prev":this.currentIndex-2===e,"p-dock-item-prev":this.currentIndex-1===e,"p-dock-item-current":this.currentIndex===e,"p-dock-item-next":this.currentIndex+1===e,"p-dock-item-second-next":this.currentIndex+2===e}]},linkClass(e,t){return["p-dock-action",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},disabled(e){return"function"===typeof e.disabled?e.disabled():e.disabled}},directives:{ripple:x.Z}};const y={class:"p-dock-list-container"};function $(e,t,n,o,r,a){const l=(0,i.up)("router-link"),s=(0,i.Q2)("ripple"),c=(0,i.Q2)("tooltip");return(0,i.wg)(),(0,i.j4)("div",y,[(0,i.Wm)("ul",{ref:"list",class:"p-dock-list",role:"menu",onMouseleave:t[1]||(t[1]=(...e)=>a.onListMouseLeave&&a.onListMouseLeave(...e))},[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(n.model,((e,t)=>((0,i.wg)(),(0,i.j4)("li",{class:a.itemClass(t),key:t,role:"none",onMouseenter:e=>a.onItemMouseEnter(t)},[n.templates["item"]?((0,i.wg)(),(0,i.j4)((0,i.LL)(n.templates["item"]),{key:1,item:e},null,8,["item"])):((0,i.wg)(),(0,i.j4)(i.HY,{key:0},[e.to&&!a.disabled(e)?((0,i.wg)(),(0,i.j4)(l,{key:0,to:e.to,custom:""},{default:(0,i.w5)((({navigate:t,href:o,isActive:r,isExactActive:l})=>[(0,i.wy)((0,i.Wm)("a",{href:o,role:"menuitem",class:a.linkClass(e,{isActive:r,isExactActive:l}),target:e.target,onClick:n=>a.onItemClick(n,e,t)},[n.templates["icon"]?((0,i.wg)(),(0,i.j4)((0,i.LL)(n.templates["icon"]),{key:1,item:e},null,8,["item"])):(0,i.wy)(((0,i.wg)(),(0,i.j4)("span",{key:0,class:["p-dock-action-icon",e.icon]},null,2)),[[s]])],10,["href","target","onClick"]),[[c,{value:e.label,disabled:!n.tooltipOptions},n.tooltipOptions]])])),_:2},1032,["to"])):(0,i.wy)(((0,i.wg)(),(0,i.j4)("a",{key:1,href:e.url,role:"menuitem",class:a.linkClass(e),target:e.target,onClick:t=>a.onItemClick(t,e),tabindex:a.disabled(e)?null:"0"},[n.templates["icon"]?((0,i.wg)(),(0,i.j4)((0,i.LL)(n.templates["icon"]),{key:1,item:e},null,8,["item"])):(0,i.wy)(((0,i.wg)(),(0,i.j4)("span",{key:0,class:["p-dock-action-icon",e.icon]},null,2)),[[s]])],10,["href","target","onClick","tabindex"])),[[c,{value:e.label,disabled:!n.tooltipOptions},n.tooltipOptions]])],64))],42,["onMouseenter"])))),128))],544)])}w.render=$;var D={name:"Dock",props:{position:{type:String,default:"bottom"},model:null,class:null,style:null,tooltipOptions:null,exact:{type:Boolean,default:!0}},computed:{containerClass(){return["p-dock p-component",`p-dock-${this.position}`,this.class]}},components:{DockSub:w}};function C(e,t,n,o,r,a){const l=(0,i.up)("DockSub");return(0,i.wg)(),(0,i.j4)("div",{class:a.containerClass,style:n.style},[(0,i.Wm)(l,{model:n.model,templates:e.$slots,exact:n.exact,tooltipOptions:n.tooltipOptions},null,8,["model","templates","exact","tooltipOptions"])],6)}function M(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var j="\n.p-dock {\n    position: absolute;\n    z-index: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    pointer-events: none;\n}\n.p-dock-list-container {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    pointer-events: auto;\n}\n.p-dock-list {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n.p-dock-item {\n    -webkit-transition: all .2s cubic-bezier(0.4, 0, 0.2, 1);\n    transition: all .2s cubic-bezier(0.4, 0, 0.2, 1);\n    will-change: transform;\n}\n.p-dock-action {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    position: relative;\n    overflow: hidden;\n    cursor: default;\n}\n.p-dock-item-second-prev,\n.p-dock-item-second-next {\n    -webkit-transform: scale(1.2);\n            transform: scale(1.2);\n}\n.p-dock-item-prev,\n.p-dock-item-next {\n    -webkit-transform: scale(1.4);\n            transform: scale(1.4);\n}\n.p-dock-item-current {\n    -webkit-transform: scale(1.6);\n            transform: scale(1.6);\n    z-index: 1;\n}\n\n/* Position */\n/* top */\n.p-dock-top {\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n.p-dock-top .p-dock-item {\n    -webkit-transform-origin: center top;\n            transform-origin: center top;\n}\n\n/* bottom */\n.p-dock-bottom {\n    left: 0;\n    bottom: 0;\n    width: 100%;\n}\n.p-dock-bottom .p-dock-item {\n    -webkit-transform-origin: center bottom;\n            transform-origin: center bottom;\n}\n\n/* right */\n.p-dock-right {\n    right: 0;\n    top: 0;\n    height: 100%;\n}\n.p-dock-right .p-dock-item {\n    -webkit-transform-origin: center right;\n            transform-origin: center right;\n}\n.p-dock-right .p-dock-list {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n\n/* left */\n.p-dock-left {\n    left: 0;\n    top: 0;\n    height: 100%;\n}\n.p-dock-left .p-dock-item {\n    -webkit-transform-origin: center left;\n            transform-origin: center left;\n}\n.p-dock-left .p-dock-list {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n";M(j),D.render=C;var _=D,I=n(9394),L={name:"Dashboard",components:{Dock:_,DotMenu:I.Z,Grafana:f,DeleteDashboard:g},emits:["updateMenu"],data:function(){return{dashboards:{},dashboard:null,dashboardMenu:[]}},computed:{dashboardUrl:function(){return this.dashboard?this.dashboard.url:null},menuModel:function(){var e=this;return null!=this.dashboard?[{label:this.$t("menu.delete_dashboard"),icon:"pi pi-fw pi-minus-circle",command:function(){e.$refs.deleteDashboard.delete(),e.$emit("updateMenu",null)}},{label:this.$t("menu.edit_dashboard"),icon:"pi pi-fw pi-pencil",command:function(){e.$router.push("/dashboard/edit/".concat(e.dashboard.id))}}]:[]}},watch:{},created:function(){var e=this,t=this.$store.getters["view/dashboards"];try{t&&(this.dashboards=t,this.dashboard=t.find((function(t){return t.id==e.$route.params.dashboard_id})),this.dashboardMenu=this.createDashboardMenu())}catch(n){this.dashboard=null}},mounted:function(){var e=this;this.$watch((function(){return e.$route}),(function(t){if(t.name==e.$options.name){var n,i=(0,l.Z)(e.dashboards);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.id==t.params.dashboard_id&&(e.dashboard=o)}}catch(r){i.e(r)}finally{i.f()}}}))},methods:{getColor:function(e){return e.id==this.$route.params.dashboard_id?"color:green":"color:initial"},createDashboardMenu:function(){var e=this;if(0==this.dashboards.length)return[];var t=0;return t>=1?[]:this.dashboards.map((function(t){var n="/dashboard/view/".concat(t.id);return{label:t.label,icon:"pi pi-fw pi-align-left",id:t.id,to:n,command:function(){e.$router.push(n)}}}))}}};const A=(0,p.Z)(L,[["render",a]]);var O=A},647:function(e,t,n){var i=n(1702),o=n(7908),r=Math.floor,a=i("".charAt),l=i("".replace),s=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,u,p){var m=n+e.length,f=i.length,h=d;return void 0!==u&&(u=o(u),h=c),l(p,h,(function(o,l){var c;switch(a(l,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,n);case"'":return s(t,m);case"<":c=u[s(l,1,-1)];break;default:var d=+l;if(0===d)return o;if(d>f){var p=r(d/10);return 0===p?o:p<=f?void 0===i[p-1]?a(l,1):i[p-1]+a(l,1):o}c=i[d-1]}return void 0===c?"":c}))}},5306:function(e,t,n){"use strict";var i=n(2104),o=n(6916),r=n(1702),a=n(7007),l=n(7293),s=n(9670),c=n(614),d=n(9303),u=n(7466),p=n(1340),m=n(4488),f=n(1530),h=n(8173),b=n(647),k=n(7651),v=n(5112),g=v("replace"),x=Math.max,w=Math.min,y=r([].concat),$=r([].push),D=r("".indexOf),C=r("".slice),M=function(e){return void 0===e?e:String(e)},j=function(){return"$0"==="a".replace(/./,"$0")}(),_=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),I=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,n){var r=_?"$":"$0";return[function(e,n){var i=m(this),r=void 0==e?void 0:h(e,g);return r?o(r,e,i,n):o(t,p(i),e,n)},function(e,o){var a=s(this),l=p(e);if("string"==typeof o&&-1===D(o,r)&&-1===D(o,"$<")){var m=n(t,a,l,o);if(m.done)return m.value}var h=c(o);h||(o=p(o));var v=a.global;if(v){var g=a.unicode;a.lastIndex=0}var j=[];while(1){var _=k(a,l);if(null===_)break;if($(j,_),!v)break;var I=p(_[0]);""===I&&(a.lastIndex=f(l,u(a.lastIndex),g))}for(var L="",A=0,O=0;O<j.length;O++){_=j[O];for(var S=p(_[0]),E=x(w(d(_.index),l.length),0),Z=[],W=1;W<_.length;W++)$(Z,M(_[W]));var z=_.groups;if(h){var B=y([S],Z,E,l);void 0!==z&&$(B,z);var q=p(i(o,void 0,B))}else q=b(S,l,E,Z,z,o);E>=A&&(L+=C(l,A,E)+q,A=E+S.length)}return L+C(l,A)}]}),!I||!j||_)}}]);
//# sourceMappingURL=715-legacy.a087bdc4.js.map