{"version":3,"file":"js/843-legacy.c23675eb.js","mappings":"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","sources":["webpack://renergetic_ui/./src/views/dashboard/HeatMapCreator.vue","webpack://renergetic_ui/./node_modules/primevue/progressbar/progressbar.esm.js","webpack://renergetic_ui/./node_modules/primevue/fileupload/fileupload.esm.js","webpack://renergetic_ui/./src/plugins/model/Area.js","webpack://renergetic_ui/./src/plugins/model/HeatMap.js","webpack://renergetic_ui/./src/views/dashboard/HeatMapCreator.vue?6cc6"],"sourcesContent":["<template>\r\n  <div class=\"grid\">\r\n    <div class=\"col-8\">\r\n      <Card>\r\n        <template #title> HeatMap editor </template>\r\n        <template #content>\r\n          <!-- file upload-->\r\n          <!-- {{ areas }} {{ scale }} -->\r\n          <div v-if=\"bgImage == null\" class=\"field grid\">\r\n            <div class=\"col\">\r\n              <FileUpload\r\n                ref=\"FileUpload\"\r\n                with-credentials=\"true,\"\r\n                name=\"images[]\"\r\n                :custom-upload=\"true\"\r\n                :multiple=\"false\"\r\n                accept=\"image/*\"\r\n                :max-file-size=\"21000000\"\r\n                :show-upload-button=\"false\"\r\n                :disabled=\"false\"\r\n                :cancel-label=\"$t('view.button.clear')\"\r\n                :choose-label=\"$t('view.button.choose')\"\r\n                @uploader=\"customUpload\"\r\n                @upload=\"onUpload\"\r\n                @select=\"onSelect\"\r\n              >\r\n                <template #empty>\r\n                  <p>\r\n                    {{ $t(\"form.heat_map_image\") }}\r\n                  </p>\r\n                </template>\r\n              </FileUpload>\r\n            </div>\r\n          </div>\r\n          <div v-show=\"bgImage != null\" id=\"heatmapContainer\">\r\n            <v-stage id=\"heatmap\" ref=\"stage\" :config=\"stageSize\" @click=\"onClick\">\r\n              <v-layer>\r\n                <v-image\r\n                  :config=\"{\r\n                    image: bgImage,\r\n                  }\"\r\n                />\r\n              </v-layer>\r\n            </v-stage>\r\n          </div>\r\n        </template>\r\n      </Card>\r\n    </div>\r\n    <div v-if=\"bgImage\" class=\"col-3 ren\">\r\n      <AreaDetails\r\n        class=\"tile\"\r\n        :model-value=\"selectedArea\"\r\n        @update:model-value=\"selectedArea = $event\"\r\n        @delete=\"areaDelete(selectedArea)\"\r\n      ></AreaDetails>\r\n      <Card class=\"tile\">\r\n        <template #title> {{ $t(\"heatmap.areas\") }}</template>\r\n        <template #content>\r\n          <Listbox\r\n            v-if=\"heatmap != null\"\r\n            v-model=\"selectedArea\"\r\n            :options=\"heatmap.areas\"\r\n            option-label=\"label\"\r\n            style=\"width: 15rem\"\r\n          />\r\n        </template>\r\n      </Card>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"card gf\">\r\n    <div class=\"p-fluid p-formgrid grid ren-submit\">\r\n      <div v-if=\"!addMode && bgImage\" class=\"field md-3 sm-6\">\r\n        <Button :label=\"$t('view.button.add_point')\" @click=\"addPoint\" />\r\n      </div>\r\n      <div v-if=\"addMode\" class=\"field md-3 sm-6\">\r\n        <Button :label=\"$t('view.button.confirm_point')\" @click=\"confirmPoint\" />\r\n      </div>\r\n      <div v-if=\"addMode\" class=\"field md-3 sm-6\">\r\n        <Button :label=\"$t('view.button.cancel')\" @click=\"cancelPoint\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"field grid ren-submit\">\r\n      <div class=\"col\">\r\n        <Button :disabled=\"!hasFiles\" :label=\"$t('view.button.submit')\" @click=\"submit\" />\r\n      </div>\r\n      <div class=\"col\">\r\n        <Button :label=\"$t('view.button.cancel')\" @click=\"cancel\" />\r\n      </div>\r\n    </div>\r\n\r\n    <ProgressSpinner v-if=\"spinner\" style=\"width: 10rem; height: 10rem; margin: auto; display: flex\" stroke-width=\"4\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport FileUpload from \"primevue/fileupload\";\r\nimport AreaDetails from \"../../components/area/AreaDetails.vue\";\r\nimport Listbox from \"primevue/listbox\";\r\nimport { MapArea } from \"../../plugins/model/Area\";\r\nimport { HeatMap } from \"../../plugins/model/HeatMap\";\r\n\r\nimport Card from \"primevue/card\";\r\nimport Konva from \"konva\";\r\n\r\n//TODO: update image,todo: spinner?\r\n//initial canvas size\r\nconst sceneWidth = 900;\r\nconst sceneHeight = 450;\r\nvar nextId = 0;\r\nexport default {\r\n  name: \"HeatMapCreator\",\r\n  components: { FileUpload, Card, Listbox, AreaDetails },\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      //heat map area id\r\n      stageSize: {\r\n        width: sceneWidth,\r\n        height: sceneHeight,\r\n      },\r\n      heatmap: null,\r\n      hasFiles: false,\r\n      current: null,\r\n      selectedArea: null,\r\n      scale: 1,\r\n      bgImage: null,\r\n      addMode: false,\r\n    };\r\n  },\r\n  watch: {\r\n    selectedArea: function (newValue, oldValue) {\r\n      //toggle colors\r\n      if (oldValue != null) {\r\n        let oldId = oldValue.id;\r\n        let oldShape = this.$refs.stage.getStage().findOne(`#${oldId}`);\r\n        if (oldShape != null) {\r\n          //oldShape  -> after delete\r\n          oldShape.fill(\"#00D2FFAA\");\r\n        }\r\n      }\r\n      if (newValue != null) {\r\n        let newId = newValue.id;\r\n        this.$refs.stage.getStage().findOne(`#${newId}`).fill(\"#AAAAFFAA\");\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    if (this.id == null) {\r\n      //create new heatmap\r\n      this.heatmap = new HeatMap(`heatmap_${nextId++}`); //TODO: -> temporary id\r\n    } else {\r\n      console.info(\"todo:\");\r\n      //todo: load from API\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    areaDelete(area) {\r\n      this.heatmap.areas = this.heatmap.areas.filter((f) => f.id != area.id);\r\n      this.deletePoint(area.id);\r\n      if (this.current != null && this.current.id == area.id) {\r\n        this.current = null;\r\n      }\r\n    },\r\n    onClick(evt) {\r\n      // console.info(evt.target.nodeName);\r\n      if (evt.target.nodeName == \"CANVAS\" && this.addMode) {\r\n        // console.info([evt.layerX / this.scale, evt.layerY / this.scale]);\r\n        // console.info(evt);var evt = e.evt;\r\n        let stage = this.$refs.stage.getStage();\r\n        var shape = stage.findOne(`#${this.current.id}`);\r\n        if (shape != null) {\r\n          this.current.points.push([evt.layerX / this.scale, evt.layerY / this.scale]);\r\n          let pnts = this.current.points;\r\n          let f = (context, shape) => {\r\n            context.beginPath();\r\n            pnts.forEach((pnt) => {\r\n              context.lineTo(pnt[0], pnt[1]);\r\n            });\r\n            context.closePath();\r\n            // special Konva.js method\r\n            context.fillStrokeShape(shape);\r\n          };\r\n          shape.setSceneFunc(f);\r\n        }\r\n        // stage.draw();\r\n        // this.deletePoint(this.current.id);\r\n        // this.drawArea(this.current);\r\n      }\r\n    },\r\n    addPoint() {\r\n      this.current = new MapArea(`area_${nextId++}`);\r\n      this.current.points = []; // new MapArea(`area_${nextId++}`);\r\n      this.addMode = true;\r\n      this.drawArea(this.current);\r\n    },\r\n\r\n    cancelPoint() {\r\n      this.deletePoint(this.current.id);\r\n      this.current = null;\r\n      this.addMode = false;\r\n    },\r\n\r\n    deletePoint(id) {\r\n      let layer = this.$refs.stage.getStage().findOne(`#${id}`);\r\n      if (layer != null) layer.destroy();\r\n      //else: TODO:\r\n    },\r\n    drawArea(area) {\r\n      let layer = new Konva.Layer();\r\n      let stage = this.$refs.stage.getStage();\r\n      let item = new Konva.Shape(this.getConfig(area));\r\n      layer.add(item);\r\n      stage.add(layer);\r\n      stage.draw();\r\n    },\r\n    confirmPoint() {\r\n      // let area = new MapArea(`area_${nextId++}`, this.current.points);\r\n      //todo: validate\r\n      this.heatmap.areas.push(this.current);\r\n      this.current = null;\r\n      this.addMode = false;\r\n    },\r\n    getConfig(area) {\r\n      return {\r\n        sceneFunc: function (context, shape) {\r\n          context.beginPath();\r\n          area.points.forEach((pnt) => {\r\n            context.lineTo(pnt[0], pnt[1]);\r\n          });\r\n          context.closePath();\r\n          // special Konva.js method\r\n          context.fillStrokeShape(shape);\r\n        },\r\n        fill: \"#00D2FFAA\",\r\n        stroke: \"black\",\r\n        strokeWidth: 1,\r\n        opacity: 0.75,\r\n        listening: true,\r\n        id: area.id,\r\n      };\r\n    },\r\n    cancel() {\r\n      // TOdo: go back\r\n      if (this.$refs.FileUpload != null) this.$refs.FileUpload.clear();\r\n      // this.bgImage = null;\r\n    },\r\n    onSelect() {\r\n      if (this.$refs.FileUpload !== undefined) this.hasFiles = this.$refs.FileUpload.files.length > 0;\r\n      else this.hasFiles = false;\r\n      if (this.hasFiles) {\r\n        const image = new window.Image();\r\n        image.src = this.$refs.FileUpload.files[0].objectURL;\r\n        image.onload = () => {\r\n          // set image only when it is loaded\r\n          let stage = this.$refs.stage.getStage();\r\n          this.bgImage = image;\r\n          this.scaleHeatMap(stage, image);\r\n          this.heatmap.imgUrl = image.src;\r\n        };\r\n      }\r\n    },\r\n    scaleHeatMap(stage, bgImage) {\r\n      if (bgImage != null) {\r\n        var scale = sceneWidth / bgImage.width;\r\n        this.scale = scale;\r\n        stage.width(bgImage.width);\r\n        stage.height(bgImage.height);\r\n        stage.scale({ x: scale, y: scale });\r\n      }\r\n    },\r\n    async submit() {\r\n      //todo: validate:\r\n      await this.$ren.dashboardApi.addHeatMap(this.heatmap).then(() => {\r\n        // dashoard.id = id;\r\n        // this.$store.commit(\"view/dashboardsAdd\", dashoard);\r\n        // TODO: router back?\r\n        this.$router.push(this.$route.meta.from);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#heatmap {\r\n  max-width: 75%;\r\n  max-height: 75vh;\r\n}\r\n#heatmapContainer {\r\n  padding: 0.5rem;\r\n}\r\n</style>\r\n","import { openBlock, createBlock, renderSlot, createTextVNode, toDisplayString, createCommentVNode, createVNode } from 'vue';\n\nvar script = {\n    name: 'ProgressBar',\n    props: {\n        value: {\n            type: Number,\n            default: null\n        },\n        mode: {\n            type: String,\n            default: 'determinate'\n        },\n        showValue: {\n            type: Boolean,\n            default: true\n        }\n    },\n    computed: {\n        containerClass() {\n            return [\n                'p-progressbar p-component',\n                {\n                    'p-progressbar-determinate': this.determinate,\n                    'p-progressbar-indeterminate': this.indeterminate\n                }\n            ];\n        },\n        progressStyle() {\n            return {\n                width: this.value + '%',\n                display: 'flex'\n            };\n        },\n        indeterminate() {\n            return this.mode === 'indeterminate';\n        },\n        determinate() {\n            return this.mode === 'determinate';\n        }\n    }\n};\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"p-progressbar-label\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  class: \"p-progressbar-indeterminate-container\"\n};\nconst _hoisted_3 = /*#__PURE__*/createVNode(\"div\", { class: \"p-progressbar-value p-progressbar-value-animate\" }, null, -1);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (openBlock(), createBlock(\"div\", {\n    role: \"progressbar\",\n    class: $options.containerClass,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuenow\": $props.value,\n    \"aria-valuemax\": \"100\"\n  }, [\n    ($options.determinate)\n      ? (openBlock(), createBlock(\"div\", {\n          key: 0,\n          class: \"p-progressbar-value p-progressbar-value-animate\",\n          style: $options.progressStyle\n        }, [\n          (($props.value != null && $props.value !== 0) && $props.showValue)\n            ? (openBlock(), createBlock(\"div\", _hoisted_1, [\n                renderSlot(_ctx.$slots, \"default\", {}, () => [\n                  createTextVNode(toDisplayString($props.value + '%'), 1)\n                ])\n              ]))\n            : createCommentVNode(\"\", true)\n        ], 4))\n      : createCommentVNode(\"\", true),\n    ($options.indeterminate)\n      ? (openBlock(), createBlock(\"div\", _hoisted_2, [\n          _hoisted_3\n        ]))\n      : createCommentVNode(\"\", true)\n  ], 10, [\"aria-valuenow\"]))\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-progressbar {\\n    position: relative;\\n    overflow: hidden;\\n}\\n.p-progressbar-determinate .p-progressbar-value {\\n    height: 100%;\\n    width: 0%;\\n    position: absolute;\\n    display: none;\\n    border: 0 none;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    overflow: hidden;\\n}\\n.p-progressbar-determinate .p-progressbar-label {\\n    display: -webkit-inline-box;\\n    display: -ms-inline-flexbox;\\n    display: inline-flex;\\n}\\n.p-progressbar-determinate .p-progressbar-value-animate {\\n    -webkit-transition: width 1s ease-in-out;\\n    transition: width 1s ease-in-out;\\n}\\n.p-progressbar-indeterminate .p-progressbar-value::before {\\n      content: '';\\n      position: absolute;\\n      background-color: inherit;\\n      top: 0;\\n      left: 0;\\n      bottom: 0;\\n      will-change: left, right;\\n      -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\\n              animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\\n}\\n.p-progressbar-indeterminate .p-progressbar-value::after {\\n    content: '';\\n    position: absolute;\\n    background-color: inherit;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    will-change: left, right;\\n    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\\n            animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\\n    -webkit-animation-delay: 1.15s;\\n            animation-delay: 1.15s;\\n}\\n@-webkit-keyframes p-progressbar-indeterminate-anim {\\n0% {\\n    left: -35%;\\n    right: 100%;\\n}\\n60% {\\n    left: 100%;\\n    right: -90%;\\n}\\n100% {\\n    left: 100%;\\n    right: -90%;\\n}\\n}\\n@keyframes p-progressbar-indeterminate-anim {\\n0% {\\n    left: -35%;\\n    right: 100%;\\n}\\n60% {\\n    left: 100%;\\n    right: -90%;\\n}\\n100% {\\n    left: 100%;\\n    right: -90%;\\n}\\n}\\n@-webkit-keyframes p-progressbar-indeterminate-anim-short {\\n0% {\\n    left: -200%;\\n    right: 100%;\\n}\\n60% {\\n    left: 107%;\\n    right: -8%;\\n}\\n100% {\\n    left: 107%;\\n    right: -8%;\\n}\\n}\\n@keyframes p-progressbar-indeterminate-anim-short {\\n0% {\\n    left: -200%;\\n    right: 100%;\\n}\\n60% {\\n    left: 107%;\\n    right: -8%;\\n}\\n100% {\\n    left: 107%;\\n    right: -8%;\\n}\\n}\\n\";\nstyleInject(css_248z);\n\nscript.render = render;\n\nexport default script;\n","import Button from 'primevue/button';\nimport ProgressBar from 'primevue/progressbar';\nimport Message from 'primevue/message';\nimport { DomHandler } from 'primevue/utils';\nimport Ripple from 'primevue/ripple';\nimport { resolveComponent, resolveDirective, openBlock, createBlock, createVNode, withDirectives, withKeys, toDisplayString, createCommentVNode, Fragment, renderList, withCtx, createTextVNode, renderSlot } from 'vue';\n\nvar script = {\n    name: 'FileUpload',\n    emits: ['select', 'uploader', 'before-upload', 'progress', 'upload', 'error', 'before-send', 'clear', 'remove'],\n    props: {\n        name: {\n            type: String,\n            default: null\n        },\n        url: {\n            type: String,\n            default: null\n        },\n        mode: {\n            type: String,\n            default: 'advanced'\n        },\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n        accept: {\n            type: String,\n            default: null\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        auto: {\n            type: Boolean,\n            default: false\n        },\n        maxFileSize: {\n            type: Number,\n            default: null\n        },\n        invalidFileSizeMessage: {\n            type: String,\n            default: '{0}: Invalid file size, file size should be smaller than {1}.'\n        },\n        invalidFileTypeMessage: {\n            type: String,\n            default: '{0}: Invalid file type, allowed file types: {1}.'\n        },\n        fileLimit: {\n            type: Number,\n            default: null\n        },\n        invalidFileLimitMessage: {\n            type: String,\n            default: 'Maximum number of files exceeded, limit is {0} at most.'\n        },\n        withCredentials: {\n            type: Boolean,\n            default: false\n        },\n        previewWidth: {\n            type: Number,\n            default: 50\n        },\n        chooseLabel: {\n            type: String,\n            default: null\n        },\n        uploadLabel: {\n            type: String,\n            default: null\n        },\n        cancelLabel: {\n            type: String,\n            default: null\n        },\n        customUpload: {\n            type: Boolean,\n            default: false\n        },\n        showUploadButton: {\n            type: Boolean,\n            default: true\n        },\n        showCancelButton: {\n            type: Boolean,\n            default: true\n        },\n        style: null,\n        class: null\n    },\n    duplicateIEEvent: false,\n    data() {\n        return {\n            uploadedFileCount: 0,\n            files: [],\n            messages: [],\n            focused: false,\n            progress: null\n        }\n    },\n    methods: {\n        onFileSelect(event) {\n            if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n                this.duplicateIEEvent = false;\n                return;\n            }\n\n            this.messages = [];\n            this.files = this.files || [];\n            let files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n            for (let file of files) {\n                if (!this.isFileSelected(file)) {\n                    if (this.validate(file)) {\n                        if (this.isImage(file)) {\n                            file.objectURL = window.URL.createObjectURL(file);\n                        }\n                        this.files.push(file);\n                    }\n                }\n            }\n\n            this.$emit('select', {originalEvent: event, files: this.files});\n\n            if (this.fileLimit) {\n                this.checkFileLimit();\n            }\n\n            if (this.auto && this.hasFiles && !this.isFileLimitExceeded()) {\n                this.upload();\n            }\n\n            if (event.type !== 'drop' && this.isIE11()) {\n                this.clearIEInput();\n            }\n            else {\n                this.clearInputElement();\n            }\n        },\n        choose() {\n            this.$refs.fileInput.click();\n        },\n        upload() {\n            if (this.customUpload) {\n                if (this.fileLimit) {\n                    this.uploadedFileCount += this.files.length;\n                }\n\n                this.$emit('uploader', {files: this.files});\n            }\n            else {\n                let xhr = new XMLHttpRequest();\n                let formData = new FormData();\n\n                this.$emit('before-upload', {\n                    'xhr': xhr,\n                    'formData': formData\n                });\n\n                for (let file of this.files) {\n                    formData.append(this.name, file, file.name);\n                }\n\n                xhr.upload.addEventListener('progress', (event) => {\n                    if (event.lengthComputable) {\n                        this.progress = Math.round((event.loaded * 100) / event.total);\n                    }\n\n                    this.$emit('progress', {\n                        originalEvent: event,\n                        progress: this.progress\n                    });\n                });\n\n                xhr.onreadystatechange = () => {\n                    if (xhr.readyState === 4) {\n                        this.progress = 0;\n\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (this.fileLimit) {\n                                this.uploadedFileCount += this.files.length;\n                            }\n\n                            this.$emit('upload', {\n                                xhr: xhr,\n                                files: this.files\n                            });\n                        }\n                        else {\n                            this.$emit('error', {\n                                xhr: xhr,\n                                files: this.files\n                            });\n                        }\n\n                        this.clear();\n                    }\n                };\n\n                xhr.open('POST', this.url, true);\n\n                this.$emit('before-send', {\n                    'xhr': xhr,\n                    'formData': formData\n                });\n\n                xhr.withCredentials = this.withCredentials;\n\n                xhr.send(formData);\n            }\n        },\n        clear() {\n            this.files = [];\n            this.messages = null;\n            this.$emit('clear');\n\n            if (this.isAdvanced) {\n                this.clearInputElement();\n            }\n        },\n        onFocus() {\n            this.focused = true;\n        },\n        onBlur() {\n            this.focused = false;\n        },\n        isFileSelected(file) {\n            if (this.files && this.files.length) {\n                for (let sFile of this.files) {\n                    if ((sFile.name + sFile.type + sFile.size) === (file.name + file.type + file.size))\n                        return true;\n                }\n            }\n\n            return false;\n        },\n        isIE11() {\n            return !!window['MSInputMethodContext'] && !!document['documentMode'];\n        },\n        validate(file) {\n            if (this.accept && !this.isFileTypeValid(file)) {\n                this.messages.push(this.invalidFileTypeMessage.replace('{0}', file.name).replace('{1}', this.accept));\n                return false;\n            }\n\n            if (this.maxFileSize && file.size > this.maxFileSize) {\n                this.messages.push(this.invalidFileSizeMessage.replace('{0}', file.name).replace('{1}', this.formatSize(this.maxFileSize)));\n                return false;\n            }\n\n            return true;\n        },\n        isFileTypeValid(file) {\n            let acceptableTypes = this.accept.split(',').map(type => type.trim());\n            for(let type of acceptableTypes) {\n                let acceptable = this.isWildcard(type) ? this.getTypeClass(file.type) === this.getTypeClass(type)\n                    : file.type == type || this.getFileExtension(file).toLowerCase() === type.toLowerCase();\n\n                if (acceptable) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n        getTypeClass(fileType) {\n            return fileType.substring(0, fileType.indexOf('/'));\n        },\n        isWildcard(fileType){\n            return fileType.indexOf('*') !== -1;\n        },\n        getFileExtension(file) {\n            return '.' + file.name.split('.').pop();\n        },\n        isImage(file) {\n            return /^image\\//.test(file.type);\n        },\n        onDragEnter(event) {\n            if (!this.disabled) {\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        onDragOver(event) {\n            if (!this.disabled) {\n                DomHandler.addClass(this.$refs.content, 'p-fileupload-highlight');\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        },\n        onDragLeave() {\n            if (!this.disabled) {\n                DomHandler.removeClass(this.$refs.content, 'p-fileupload-highlight');\n            }\n        },\n        onDrop(event) {\n            if (!this.disabled) {\n                DomHandler.removeClass(this.$refs.content, 'p-fileupload-highlight');\n                event.stopPropagation();\n                event.preventDefault();\n\n                const files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n                const allowDrop = this.multiple || (files && files.length === 1);\n\n                if (allowDrop) {\n                    this.onFileSelect(event);\n                }\n            }\n        },\n        onBasicUploaderClick() {\n            if (this.hasFiles)\n                this.upload();\n            else\n                this.$refs.fileInput.click();\n        },\n        remove(index) {\n            this.clearInputElement();\n            let removedFile = this.files.splice(index, 1)[0];\n            this.files = [...this.files];\n            this.$emit('remove', {\n                file: removedFile,\n                files: this.files\n            });\n        },\n        clearInputElement() {\n            this.$refs.fileInput.value = '';\n        },\n        clearIEInput() {\n            if (this.$refs.fileInput) {\n                this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n                this.$refs.fileInput.value = '';\n            }\n        },\n        formatSize(bytes) {\n            if (bytes === 0) {\n                return '0 B';\n            }\n            let k = 1000,\n            dm = 3,\n            sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            i = Math.floor(Math.log(bytes) / Math.log(k));\n\n            return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n        },\n        isFileLimitExceeded() {\n            if (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount && this.focused) {\n                this.focused = false;\n            }\n\n            return this.fileLimit && this.fileLimit < this.files.length + this.uploadedFileCount;\n        },\n        checkFileLimit() {\n            if (this.isFileLimitExceeded()) {\n                this.messages.push(this.invalidFileLimitMessage.replace('{0}', this.fileLimit.toString()));\n            }\n        },\n        onMessageClose() {\n            this.messages = null;\n        }\n    },\n    computed: {\n        isAdvanced() {\n            return this.mode === 'advanced';\n        },\n        isBasic() {\n            return this.mode === 'basic';\n        },\n        advancedChooseButtonClass() {\n            return ['p-button p-component p-fileupload-choose', this.class, {\n                    'p-disabled': this.disabled,\n                    'p-focus': this.focused\n                }\n            ];\n        },\n        basicChooseButtonClass() {\n            return ['p-button p-component p-fileupload-choose', this.class, {\n                'p-fileupload-choose-selected': this.hasFiles,\n                'p-disabled': this.disabled,\n                'p-focus': this.focused\n            }];\n        },\n        basicChooseButtonIconClass() {\n            return ['p-button-icon p-button-icon-left pi', {\n                'pi-plus': !this.hasFiles || this.auto,\n                'pi-upload': this.hasFiles && !this.auto\n            }];\n        },\n        basicChooseButtonLabel() {\n            return this.auto ? this.chooseButtonLabel : (this.hasFiles ? this.files.map(f => f.name).join(', ') : this.chooseButtonLabel);\n        },\n        hasFiles() {\n            return this.files && this.files.length > 0;\n        },\n        chooseDisabled() {\n            return this.disabled || (this.fileLimit && this.fileLimit <= this.files.length + this.uploadedFileCount);\n        },\n        uploadDisabled() {\n            return this.disabled || !this.hasFiles || (this.fileLimit && this.fileLimit < this.files.length);\n        },\n        cancelDisabled() {\n            return this.disabled || !this.hasFiles;\n        },\n        chooseButtonLabel() {\n            return this.chooseLabel || this.$primevue.config.locale.choose;\n        },\n        uploadButtonLabel() {\n            return this.uploadLabel || this.$primevue.config.locale.upload;\n        },\n        cancelButtonLabel() {\n            return this.cancelLabel || this.$primevue.config.locale.cancel;\n        }\n    },\n    components: {\n        'FileUploadButton': Button,\n        'FileUploadProgressBar': ProgressBar,\n        'FileUploadMessage': Message\n    },\n    directives: {\n        'ripple': Ripple\n    }\n};\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"p-fileupload p-fileupload-advanced p-component\"\n};\nconst _hoisted_2 = { class: \"p-fileupload-buttonbar\" };\nconst _hoisted_3 = /*#__PURE__*/createVNode(\"span\", { class: \"p-button-icon p-button-icon-left pi pi-fw pi-plus\" }, null, -1);\nconst _hoisted_4 = { class: \"p-button-label\" };\nconst _hoisted_5 = {\n  key: 1,\n  class: \"p-fileupload-files\"\n};\nconst _hoisted_6 = { class: \"p-fileupload-filename\" };\nconst _hoisted_7 = {\n  key: 2,\n  class: \"p-fileupload-empty\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"p-fileupload p-fileupload-basic p-component\"\n};\nconst _hoisted_9 = { class: \"p-button-label\" };\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FileUploadButton = resolveComponent(\"FileUploadButton\");\n  const _component_FileUploadProgressBar = resolveComponent(\"FileUploadProgressBar\");\n  const _component_FileUploadMessage = resolveComponent(\"FileUploadMessage\");\n  const _directive_ripple = resolveDirective(\"ripple\");\n\n  return ($options.isAdvanced)\n    ? (openBlock(), createBlock(\"div\", _hoisted_1, [\n        createVNode(\"div\", _hoisted_2, [\n          withDirectives(createVNode(\"span\", {\n            class: $options.advancedChooseButtonClass,\n            style: $props.style,\n            onClick: _cache[2] || (_cache[2] = (...args) => ($options.choose && $options.choose(...args))),\n            onKeydown: _cache[3] || (_cache[3] = withKeys((...args) => ($options.choose && $options.choose(...args)), [\"enter\"])),\n            onFocus: _cache[4] || (_cache[4] = (...args) => ($options.onFocus && $options.onFocus(...args))),\n            onBlur: _cache[5] || (_cache[5] = (...args) => ($options.onBlur && $options.onBlur(...args))),\n            tabindex: \"0\"\n          }, [\n            createVNode(\"input\", {\n              ref: \"fileInput\",\n              type: \"file\",\n              onChange: _cache[1] || (_cache[1] = (...args) => ($options.onFileSelect && $options.onFileSelect(...args))),\n              multiple: $props.multiple,\n              accept: $props.accept,\n              disabled: $options.chooseDisabled\n            }, null, 40, [\"multiple\", \"accept\", \"disabled\"]),\n            _hoisted_3,\n            createVNode(\"span\", _hoisted_4, toDisplayString($options.chooseButtonLabel), 1)\n          ], 38), [\n            [_directive_ripple]\n          ]),\n          ($props.showUploadButton)\n            ? (openBlock(), createBlock(_component_FileUploadButton, {\n                key: 0,\n                label: $options.uploadButtonLabel,\n                icon: \"pi pi-upload\",\n                onClick: $options.upload,\n                disabled: $options.uploadDisabled\n              }, null, 8, [\"label\", \"onClick\", \"disabled\"]))\n            : createCommentVNode(\"\", true),\n          ($props.showCancelButton)\n            ? (openBlock(), createBlock(_component_FileUploadButton, {\n                key: 1,\n                label: $options.cancelButtonLabel,\n                icon: \"pi pi-times\",\n                onClick: $options.clear,\n                disabled: $options.cancelDisabled\n              }, null, 8, [\"label\", \"onClick\", \"disabled\"]))\n            : createCommentVNode(\"\", true)\n        ]),\n        createVNode(\"div\", {\n          ref: \"content\",\n          class: \"p-fileupload-content\",\n          onDragenter: _cache[6] || (_cache[6] = (...args) => ($options.onDragEnter && $options.onDragEnter(...args))),\n          onDragover: _cache[7] || (_cache[7] = (...args) => ($options.onDragOver && $options.onDragOver(...args))),\n          onDragleave: _cache[8] || (_cache[8] = (...args) => ($options.onDragLeave && $options.onDragLeave(...args))),\n          onDrop: _cache[9] || (_cache[9] = (...args) => ($options.onDrop && $options.onDrop(...args)))\n        }, [\n          ($options.hasFiles)\n            ? (openBlock(), createBlock(_component_FileUploadProgressBar, {\n                key: 0,\n                value: $data.progress\n              }, null, 8, [\"value\"]))\n            : createCommentVNode(\"\", true),\n          (openBlock(true), createBlock(Fragment, null, renderList($data.messages, (msg) => {\n            return (openBlock(), createBlock(_component_FileUploadMessage, {\n              severity: \"error\",\n              key: msg,\n              onClose: $options.onMessageClose\n            }, {\n              default: withCtx(() => [\n                createTextVNode(toDisplayString(msg), 1)\n              ]),\n              _: 2\n            }, 1032, [\"onClose\"]))\n          }), 128)),\n          ($options.hasFiles)\n            ? (openBlock(), createBlock(\"div\", _hoisted_5, [\n                (openBlock(true), createBlock(Fragment, null, renderList($data.files, (file, index) => {\n                  return (openBlock(), createBlock(\"div\", {\n                    class: \"p-fileupload-row\",\n                    key: file.name + file.type + file.size\n                  }, [\n                    createVNode(\"div\", null, [\n                      ($options.isImage(file))\n                        ? (openBlock(), createBlock(\"img\", {\n                            key: 0,\n                            role: \"presentation\",\n                            alt: file.name,\n                            src: file.objectURL,\n                            width: $props.previewWidth\n                          }, null, 8, [\"alt\", \"src\", \"width\"]))\n                        : createCommentVNode(\"\", true)\n                    ]),\n                    createVNode(\"div\", _hoisted_6, toDisplayString(file.name), 1),\n                    createVNode(\"div\", null, toDisplayString($options.formatSize(file.size)), 1),\n                    createVNode(\"div\", null, [\n                      createVNode(_component_FileUploadButton, {\n                        type: \"button\",\n                        icon: \"pi pi-times\",\n                        onClick: $event => ($options.remove(index))\n                      }, null, 8, [\"onClick\"])\n                    ])\n                  ]))\n                }), 128))\n              ]))\n            : createCommentVNode(\"\", true),\n          (_ctx.$slots.empty && !$options.hasFiles)\n            ? (openBlock(), createBlock(\"div\", _hoisted_7, [\n                renderSlot(_ctx.$slots, \"empty\")\n              ]))\n            : createCommentVNode(\"\", true)\n        ], 544)\n      ]))\n    : ($options.isBasic)\n      ? (openBlock(), createBlock(\"div\", _hoisted_8, [\n          (openBlock(true), createBlock(Fragment, null, renderList($data.messages, (msg) => {\n            return (openBlock(), createBlock(_component_FileUploadMessage, {\n              severity: \"error\",\n              key: msg,\n              onClose: $options.onMessageClose\n            }, {\n              default: withCtx(() => [\n                createTextVNode(toDisplayString(msg), 1)\n              ]),\n              _: 2\n            }, 1032, [\"onClose\"]))\n          }), 128)),\n          withDirectives(createVNode(\"span\", {\n            class: $options.basicChooseButtonClass,\n            style: $props.style,\n            onMouseup: _cache[13] || (_cache[13] = (...args) => ($options.onBasicUploaderClick && $options.onBasicUploaderClick(...args))),\n            onKeydown: _cache[14] || (_cache[14] = withKeys((...args) => ($options.choose && $options.choose(...args)), [\"enter\"])),\n            onFocus: _cache[15] || (_cache[15] = (...args) => ($options.onFocus && $options.onFocus(...args))),\n            onBlur: _cache[16] || (_cache[16] = (...args) => ($options.onBlur && $options.onBlur(...args))),\n            tabindex: \"0\"\n          }, [\n            createVNode(\"span\", { class: $options.basicChooseButtonIconClass }, null, 2),\n            createVNode(\"span\", _hoisted_9, toDisplayString($options.basicChooseButtonLabel), 1),\n            (!$options.hasFiles)\n              ? (openBlock(), createBlock(\"input\", {\n                  key: 0,\n                  ref: \"fileInput\",\n                  type: \"file\",\n                  accept: $props.accept,\n                  disabled: $props.disabled,\n                  multiple: $props.multiple,\n                  onChange: _cache[10] || (_cache[10] = (...args) => ($options.onFileSelect && $options.onFileSelect(...args))),\n                  onFocus: _cache[11] || (_cache[11] = (...args) => ($options.onFocus && $options.onFocus(...args))),\n                  onBlur: _cache[12] || (_cache[12] = (...args) => ($options.onBlur && $options.onBlur(...args)))\n                }, null, 40, [\"accept\", \"disabled\", \"multiple\"]))\n              : createCommentVNode(\"\", true)\n          ], 38), [\n            [_directive_ripple]\n          ])\n        ]))\n      : createCommentVNode(\"\", true)\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n.p-fileupload-content {\\n    position: relative;\\n}\\n.p-fileupload-row {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n}\\n.p-fileupload-row > div {\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 auto;\\n            flex: 1 1 auto;\\n    width: 25%;\\n}\\n.p-fileupload-row > div:last-child {\\n    text-align: right;\\n}\\n.p-fileupload-content .p-progressbar {\\n    width: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.p-button.p-fileupload-choose {\\n    position: relative;\\n    overflow: hidden;\\n}\\n.p-button.p-fileupload-choose input[type=file] {\\n    display: none;\\n}\\n.p-fileupload-choose.p-fileupload-choose-selected input[type=file] {\\n    display: none;\\n}\\n.p-fileupload-filename {\\n    word-break: break-all;\\n}\\n.p-fluid .p-fileupload .p-button {\\n    width: auto;\\n}\\n\";\nstyleInject(css_248z);\n\nscript.render = render;\n\nexport default script;\n","export class MapArea {\r\n  constructor(id, points = null, dashboardId = null) {\r\n    if (points != null) this.points = points;\r\n    else this.points = [];\r\n    this.id = id;\r\n    //for primefaces modules\r\n    this.value = id;\r\n    //TODO: set some label\r\n    this.label = id;\r\n    //Grafana's dashboard id\r\n    this.dashboardId = dashboardId;\r\n  }\r\n}\r\n","export class HeatMap {\r\n  constructor(id, imgUrl, areas = null) {\r\n    if (areas != null) this.areas = areas;\r\n    else this.areas = [];\r\n    this.id = id;\r\n    this.imgUrl = imgUrl;\r\n    //TODO: set some label\r\n    this.label = id;\r\n  }\r\n}\r\n","import { render } from \"./HeatMapCreator.vue?vue&type=template&id=605f2164\"\nimport script from \"./HeatMapCreator.vue?vue&type=script&lang=js\"\nexport * from \"./HeatMapCreator.vue?vue&type=script&lang=js\"\n\nimport \"./HeatMapCreator.vue?vue&type=style&index=0&id=605f2164&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\X49702PA\\\\Desktop\\\\Proyectos\\\\RENergetic\\\\renergetic\\\\front\\\\renergetic_ui\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","title","content","bgImage","ref","name","multiple","accept","disabled","$t","customUpload","onUpload","onSelect","empty","config","stageSize","onClick","selectedArea","$event","areaDelete","heatmap","options","areas","style","addMode","label","addPoint","confirmPoint","cancelPoint","hasFiles","submit","cancel","spinner","script","props","value","type","Number","default","mode","String","showValue","Boolean","computed","containerClass","this","determinate","indeterminate","progressStyle","width","display","key","_ctx","_cache","$props","$setup","$data","$options","role","$slots","styleInject","css","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","render","emits","url","auto","maxFileSize","invalidFileSizeMessage","invalidFileTypeMessage","fileLimit","invalidFileLimitMessage","withCredentials","previewWidth","chooseLabel","uploadLabel","cancelLabel","showUploadButton","showCancelButton","duplicateIEEvent","data","uploadedFileCount","files","messages","focused","progress","methods","onFileSelect","event","isIE11","dataTransfer","target","file","isFileSelected","validate","isImage","objectURL","window","URL","createObjectURL","push","$emit","originalEvent","checkFileLimit","isFileLimitExceeded","upload","clearIEInput","clearInputElement","choose","$refs","fileInput","click","length","xhr","XMLHttpRequest","formData","FormData","append","addEventListener","lengthComputable","Math","round","loaded","total","onreadystatechange","readyState","status","clear","open","send","isAdvanced","onFocus","onBlur","sFile","size","isFileTypeValid","replace","formatSize","acceptableTypes","split","map","trim","acceptable","isWildcard","getTypeClass","getFileExtension","toLowerCase","fileType","substring","indexOf","pop","test","onDragEnter","stopPropagation","preventDefault","onDragOver","onDragLeave","onDrop","allowDrop","onBasicUploaderClick","remove","index","removedFile","splice","bytes","k","dm","sizes","i","floor","log","parseFloat","pow","toFixed","toString","onMessageClose","isBasic","advancedChooseButtonClass","basicChooseButtonClass","basicChooseButtonIconClass","basicChooseButtonLabel","chooseButtonLabel","f","join","chooseDisabled","uploadDisabled","cancelDisabled","$primevue","locale","uploadButtonLabel","cancelButtonLabel","components","directives","_component_FileUploadButton","_component_FileUploadProgressBar","_component_FileUploadMessage","_directive_ripple","args","onKeydown","tabindex","onChange","icon","onDragenter","onDragover","onDragleave","msg","severity","onClose","_","alt","src","onMouseup","MapArea","points","dashboardId","HeatMap","imgUrl","sceneWidth","sceneHeight","nextId","FileUpload","Card","Listbox","AreaDetails","height","current","scale","watch","newValue","oldValue","oldId","oldShape","stage","getStage","findOne","fill","newId","created","console","info","mounted","area","filter","deletePoint","evt","nodeName","shape","layerX","layerY","pnts","context","beginPath","forEach","pnt","lineTo","closePath","fillStrokeShape","setSceneFunc","drawArea","layer","destroy","item","getConfig","add","draw","sceneFunc","stroke","strokeWidth","opacity","listening","undefined","image","Image","onload","scaleHeatMap","x","y","$ren","dashboardApi","addHeatMap","then","$router","$route","meta","from","__exports__"],"sourceRoot":""}